#include <stdio.h>

int main() {
    int r, c;
    scanf("%d %d", &r, &c);
    
    int matrix[r][c];
    
    // Read the matrix
    for (int i = 0; i < r; i++) {
        for (int j = 0; j < c; j++) {
            scanf("%d", &matrix[i][j]);
        }
    }
    
    // Initialize boundaries
    int top = 0, bottom = r - 1;
    int left = 0, right = c - 1;
    int first = 1;  // Flag to handle space printing
    
    while (top <= bottom && left <= right) {
        // Traverse right along top row
        for (int col = left; col <= right; col++) {
            if (!first) printf(" ");
            printf("%d", matrix[top][col]);
            first = 0;
        }
        top++;
        
        // Traverse down along right column
        for (int row = top; row <= bottom; row++) {
            if (!first) printf(" ");
            printf("%d", matrix[row][right]);
            first = 0;
        }
        right--;
        
        // Traverse left along bottom row (if row exists)
        if (top <= bottom) {
            for (int col = right; c
